// ==UserScript==
// @name		Karlizator
// @namespace	http://tampermonkey.net/
// @version		1.0.3
// @description	Translates webpages from hungarian to Karl
// @author		Bence DEMETER
// @match		http*://*/*
// @grant		none
// ==/UserScript==

const KARLIZATOR_JSONP_URL = "https://drive.google.com/uc?export=download&id=1INERNIG9sKocLot30auvGdshA5g7ldl5";
!function(){"use strict";if(window.karlization=function(e,t){let n=function(e,t){for(let o=0,i=e.childNodes.length;o<i;o++){let i=e.childNodes[o];3===i.nodeType?t(i):1===i.nodeType&&"SCRIPT"!==i.nodeName&&n(i,t)}};n(document.getElementsByTagName("body")[0],function(n){let o=n.parentNode,i=function(n){for(let e in t)if(t.hasOwnProperty(e)){let o=new RegExp(e,"g"),i=new RegExp(e.substring(0,1).toUpperCase()+e.substring(1),"g"),r=t[e].substring(0,1).toUpperCase()+t[e].substring(1);n=n.replace(o,t[e]).replace(i,r)}for(let t in e)if(e.hasOwnProperty(t)){let o=new RegExp(t+'([ W\n.,:;?!<"”)]+)',"gi");n=n.replace(o,e[t]+"$1").replace(new RegExp(t+"$"),e[t])}return n}(n.data),r=document.createTextNode(i);o.insertBefore(r,n),o.removeChild(n)})},window===window.top){let e=document.createElement("button");e.innerText="KARLIZATE!",e.setAttribute("style","position:fixed;top:5px;left:5px;z-index:999999;padding:5px;background-color:#333333;color:#F0F0F0;border:3px solid #F80;font-weight:bold"),e.addEventListener("click",function(){let e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",KARLIZATOR_JSONP_URL),document.body.appendChild(e)},{}),document.getElementsByTagName("body")[0].appendChild(e)}}();
