// ==UserScript==
// @name		Karlizator
// @namespace	http://tampermonkey.net/
// @version		1.0.2
// @description	Translate webpages from hungarian to Karl
// @author		Bence DEMETER
// @match		http*://*/*
// @grant		none
// ==/UserScript==

const KARLIZATOR_JSONP_URL = "https://raw.githubusercontent.com/bobz0r75/karlizator/master/jsonp/karlizator-jsonp.js";
!function(){"use strict";if(window.karcsization=function(e,t){let n=function(e,t){for(var o=0,i=e.childNodes.length;o<i;o++){var d=e.childNodes[o];3===d.nodeType?t(d):1===d.nodeType&&"SCRIPT"!==d.nodeName&&n(d,t)}};n(document.getElementsByTagName("body")[0],function(n){let o=n.parentNode,i=function(n){for(let e in t){let o=new RegExp(e,"g"),i=new RegExp(e.substring(0,1).toUpperCase()+e.substring(1),"g"),d=t[e].substring(0,1).toUpperCase()+t[e].substring(1);n=n.replace(o,t[e]).replace(i,d)}for(let t in e){let o=new RegExp(t+'([ W\n.,:;?!<"”)]+)',"gi");n=n.replace(o,e[t]+"$1").replace(new RegExp(t+"$"),e[t])}return n}(n.data),d=document.createTextNode(i);o.insertBefore(d,n),o.removeChild(n)})},window===window.top){let e=document.createElement("button");e.innerText="KARLIZATE!",e.setAttribute("style","position:fixed;top:5px;left:5px;z-index:999999;padding:5px;background-color:#333333;color:#F0F0F0;border:3px solid #F80;font-weight:bold"),e.addEventListener("click",function(){var e=document.createElement("script");e.src=KARLIZATOR_JSONP_URL,document.body.appendChild(e)},{}),document.getElementsByTagName("body")[0].appendChild(e)}}();
