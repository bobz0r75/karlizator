// ==UserScript==
// @name		Karlizator
// @namespace	http://tampermonkey.net/
// @version		1.1-SNAPSHOT
// @description	Translates webpages from hungarian to Karl
// @author		Bence DEMETER
// @match		http*://*/*
// @grant		none
// ==/UserScript==

const KARLIZATOR_JSONP_URL = "https://drive.google.com/uc?export=download&id=11HM-75X2IPG_8by5FvR6e0MO674Msikt";
!function(){"use strict";if(window.karlization=function(e,t){let n=function(e,t){for(let o=0,d=e.childNodes.length;o<d;o++){let d=e.childNodes[o];d.nodeType===Node.TEXT_NODE?t(d):d.nodeType===Node.ELEMENT_NODE&&"SCRIPT"!==d.nodeName&&n(d,t)}};n(document.getElementsByTagName("body")[0],function(n){let o=n.parentNode,d=function(n){for(let e of t){let t=new RegExp(e.key,"g"),o=new RegExp(e.key.substring(0,1).toUpperCase()+e.key.substring(1),"g"),d=e.value.substring(0,1).toUpperCase()+e.value.substring(1);n=n.replace(t,e.value).replace(o,d)}for(let t of e){let e=new RegExp(t.key+'([ W\n.,:;?!<"”)]+)',"gi");n=n.replace(e,t.value+"$1").replace(new RegExp(t.key+"$"),t.value)}return n}(n.data),i=document.createTextNode(d);o.insertBefore(i,n),o.removeChild(n)})},window===window.top){let e=document.createElement("button");e.innerText="KARLIZATE!",e.setAttribute("style","position:fixed;top:5px;left:5px;z-index:999999;padding:5px;background-color:#333333;color:#F0F0F0;border:3px solid #F80;font-weight:bold"),e.addEventListener("click",function(){let e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",KARLIZATOR_JSONP_URL),document.body.appendChild(e)},{}),document.getElementsByTagName("body")[0].appendChild(e)}}();
